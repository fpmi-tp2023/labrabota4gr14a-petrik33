[![Review Assignment Due Date](https://classroom.github.com/assets/deadline-readme-button-8d59dc4de5201274e310e4c54b9627a8934c3b88527886e3b421487c677d23eb.svg)](https://classroom.github.com/a/HneYUAfs)
# Mobile Software Programming Technologies. Lab Work №4

## Overview

### Задание 1. Установка sqlite в macOS

Последняя версия macOS идет с предустановленной SQLite, но если база
данных недоступна, то установить SQLite можно выполнив следующие шаги.
Проверить, что SQLite установлена можно с помощью команды:

```bash
$ whereis sqlite3
/usr/bin/sqlite3
```

или с помощью команды `$ sqlite3`

Если sqlite3 установлен, то выполнять установку **НЕ ТРЕБУЕТСЯ**

#### Способ 1. Установить sqlite из исходников

1. Скачать SQLite со страницы https://www.sqlite.org/download.html
2. Распаковать полученный архив tar.gz
3. Перейти в папку с исходниками slqite и выполнить команды:

``` bash
$ ./configure —prefix=/usr/local
$ make
$ make install
```

#### Способ 2. Установить с помощью утилиты Homebrew

```bash
$ brew install sqlite
```

#### Способ 3. Установить из порта

```bash
$ sudo port install sqlite
```
### Задание 2. Управление базой данных из консоли

#### Упражнение 2.1. Изучить видео

Ознакомиться с [видео](https://youtu.be/QjICgmk31js?list=PLGLfVvz_LVvTsslWD1HBQEjBbmAaAF9Xy).

#### Упражнение 2.2. Изучить примеры

Изучить примеры работы с базой sqllite из документа Базы данных.pdf и из книги
Grant Allen, Mike Owens. The Definitive Guide to SQLite (Second Edition) — 2010.pdf
(Chapter 3: SQL for SQLite, стр. 47-87).

#### Упражнение 2.3. Создать базу данных и выполнить запросы

Создать базу данных согласно [варианту](#specification-id-34), продемонстрировать следующие
навыки работы с консолью sqlite:

* создание таблицы (`create`);
* вставка данных в таблицу (`insert`);
* выборка данных (`select`) с выводом всех данных по столбцам и строкам, с
сортировкой по id и по имени и с выводом последних 5 строк (инструкция
`limit`);
* выборка данных с фильтрацией (условие `where`), если id=5;
* выборка данных с фильтрацией (условие `where`) и с совпадением по маске,
например все записи, где имя объекта (согласно варианту) начинается на
первую букву вашей фамилии (инструкция `like`);

#### Упражнение 2.4. Выполнить запросы по вариантам

Выполнить дополнительные задания согласно [варианту](#specification-id-34)

### Задание 3. Управление базой данных в SQLite Database Manager

#### Упражнение 3.1. Изучить примеры

Изучить примеры работы с базой sqllite из документа Печеночкин Г. SQL для
непрограммистов.

#### Упражнение 3.2. Выполнить учебные запросы по вариантам

Скачать базу данных Учет расходов.

Выполнить задания в SQLite Database Manager, например [DB Browser for SQLite](http://sqlitebrowser.org/) или
[Valentina Studio](https://itunes.apple.com/us/app/valentina-studio/id604825918?mt=12)
согласно [варианту](#specification-id-34).

#### Упражнение 3.3. Создать БД и выполнить запросы по вариантам

Создать БД согласно [варианту](#specification-id-34)
для [задания 2 (упражнение 2.3)](#упражнение-23)

Продемонстрировать выполнение всех операций и запросов согласно упражнениям
2.3 и 2.4.

### Задание 4. Изучение примеров приложений на C подключения и запросов к базе данных

Познакомиться с [руководством](http://www.tutorialspoint.com/sqlite/sqlite_c_cpp.htm),
разобрать и реализовать примеры
из руководства с компиляцией в консоли.

Изучить примеры выполнения параметризованных запросов, вставку
изображений в базу данных, вставку данных в режиме `autocommit` и в виде
транзакций, вывод метаданных базы данных на [примере материала](http://zetcode.com/db/sqlitec/)

Примеры опубликовать в репозитории в ветке examples. 
Под примеры создать папку `examples` и именовать
файлы согласно шаблону `example1_grN_LastnameFirstname.c`, где `N` — номер
группы, `LastnameFirstname` — Ваши фамилия и имя. В каталоге `examples` создать
файл `EXAMPLES.md`, в котором перечислить список рассмотренных примеров.
Использовать синтаксис `markdown` для формирования файла `EXAMPLES.md`.

В репозитории должен быть создан файл `README.md` согласно примеру
`README` файла из лабораторной работы 3, в котором указать список веток
репозитория и какой код в каждой ветке размещен.

#### Дополнительные инструкции

1. [Как создать приложение и подключиться к базе данных](https://www.sqlite.org/quickstart.html)
2. [How To Compile SQLite](https://www.sqlite.org/howtocompile.html)
3. [An Introduction To The SQLite C/C++ Interface](http://www.sqlite.org/cintro.html)
4. [SQLite C tutorial](http://zetcode.com/db/sqlitec/)
5. [Using SQLite in C programs](http://www.wassen.net/sqlite-c.html)
6. [How to Use SQLite to Manage Data in iOS Apps](http://www.appcoda.com/sqlitedatabase-ios-app-tutorial/)

### Задание 5. Разработка спецификации проекта на языке UML

1. Изучить [пример проектирования системы обработки заказов на языке UML](http://sp.cs.msu.ru/courses/ooap/exerb2021.html.)
2. Познакомиться с рекомендациями по созданию UML диаграмм в draw.io:
  * [Use case diagrams](https://www.diagrams.net/blog/uml-use-case-diagrams)
  * [Activity diagrams](https://www.diagrams.net/blog/uml-activity-diagrams.html)
  * [Class diagrams](https://www.diagrams.net/blog/uml-class-diagrams.html)
  * [Sequence diagrams](https://www.diagrams.net/blog/sequence-diagrams.html)
  * [Examples](https://www.diagrams.net/blog/uml-2-5.html#example-uml-diagrams)
3. Реализовать согласно [варианту для задания 2](#задание-2) следующие виды диаграмм:
  * диаграмма вариантов использования, включая пример текстового сценария для одного из вариантов использования;
  * диаграмма деятельности;
  * диаграмма классов;
  * диаграмма последовательности;
  * диаграмма компонентов.
4. Опубликовать в wiki репозитория постановку задачи, диаграммы и текстовый сценарий к варианту использования и оформить используя синтаксис markdown. 
Добавить описание/пояснение к каждому виду диаграмм.

## Specification: ID 34

### Задание 2

#### Упражнение 2.3

**Товар**: id; наименование; стоимость; срок хранения; сорт; дата выпуска; срок
годности.

#### Упражнение 2.4

Выполнить запросы:

* Вывести данные про товары срок годности которых истекает в этом году.
* Используя инструкцию `alter`, добавить дополнительные столбцы, один из
которых `category_id` (тип `integer` и содержит идентификаторы категорий
товаров).
* Создать таблицу `category (id, cat_name, cat_description)`.
* Вывести данные обо всех товарах в форме идентификатор товара,
наименование, дата выпуска, название категории товара.
* подсчет количества товаров с помощью `count`, если `стоимость=49 руб`
* суммарная стоимость товаров с помощью `sum`, если `год выпуска>2016`
* максимальная и минимальная стоимость с помощью `max` и `min`
* Используя инструкцию `inner join` вывести полные сведения о товарах и
категории для категории с `id=2`.

### Задание 3

#### Упражнение 3.2

1. Составьте запрос к таблицам Categories и Spendings, который возвращает
название категории покупки, название магазина и потраченную сумму для всех
покупок, относящихся к категории с номером 2.
2. Составьте запрос, возвращающий названия категорий с номерами 1, 3 и 4 (с
использованием ключевого слова IN)

## Usage

Author: Tsimafei Petrykevich - Group №14
